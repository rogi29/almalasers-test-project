(this["webpackJsonpalmalasers-test-project"]=this["webpackJsonpalmalasers-test-project"]||[]).push([[0],{31:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var c=n(1),r=(n(31),n(0)),a=n.n(r),o=n(21),i=n.n(o),l=n(13),u=n(2),s=n(11),d=(n(35),n(8)),h={method:"GET",headers:{"X-TOKEN":"2d4e69f4823176197ccf41caa5ee6456"}},p="root",m=function(t){return new URL("explorePictures?path=".concat(t),"http://18.203.83.17/public/")},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(m(t).toString(),Object(d.a)(Object(d.a)({},h),e)).then((function(t){return t.json()})).then((function(t){return t.data}))},j=n(9),b=(n(36),n(10)),v=n(7),O=n.n(v),g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.filter((function(t){return!!t})).join(e)};function w(){var t=Object(j.a)(["\n    ","\n"]);return w=function(){return t},t}var x=b.a.button.attrs((function(t){var e=t.className,n=t.isRoot,c=void 0!==n&&n,r=t.selected,a=void 0!==r&&r,o=t.expandable,i=void 0===o||o;return{className:O()("TreeNode",c&&"TreeNode--root",a&&"TreeNode--selected",i&&"TreeNode--expandable",e)}}))(w(),(function(t){var e=t.level,n=t.index;return g(["number"===typeof e?"--level: ".concat(e," !important;"):void 0,"number"===typeof n?"--index: ".concat(n," !important;"):void 0],"\n")})),N=function(t){var e=t.nodeList,n=t.selectedPaths,r=t.handleNodeClick,a=-1,o=0;return Object(c.jsxs)("div",{className:"Tree",children:[Object(c.jsx)(x,{isRoot:!0,selected:n.indexOf(p)>-1,children:"R",onClick:function(){r({path:p,parentPath:null,level:0,node:{label:p,type:0}})}}),e.map((function(t){var e=t.path,i=t.node,l=t.level,u=t.parentPath;return a++,l>o&&(a=0),o=l,Object(c.jsx)(x,{level:l,index:a,expandable:0===i.type,selected:n.indexOf(e)>-1,onClick:function(){r({path:e,parentPath:u,node:i,level:l})}},e)}))]})},P=n(18),T=function(t,e){return"".concat(e,"/").concat(t)},S=function(t){var e=t.children,n=t.redirect,a=void 0===n?function(){}:n,o=Object(r.useState)([]),i=Object(P.a)(o,2),l=i[0],u=i[1],d=Object(r.useState)(null),h=Object(P.a)(d,2),m=h[0],j=h[1],b=Object(r.useState)([]),v=Object(P.a)(b,2),O=v[0],g=v[1],w=Object(s.b)(m,f),x=w.error,N=w.data,S=function(t){return O.find((function(e){return e.path===t}))};return Object(r.useEffect)((function(){x&&alert(x.message)}),[x]),Object(r.useEffect)((function(){m||(j(null),u([]),g([]))}),[m]),Object(r.useEffect)((function(){if(N){var t=m||p,e=S(t),n="number"===typeof(null===e||void 0===e?void 0:e.level)?e.level+1:0;g((function(e){return e=e.filter((function(t){return t.level<n})),N.children.forEach((function(c){e.push({node:c,level:n,parentPath:m,path:T(c.label,t)})})),e}))}}),[N]),Object(c.jsx)(c.Fragment,{children:e({nodeList:O,selectedPaths:l,handleNodeClick:function(t){var e=t.node,n=t.path;switch(e.type){case 0:!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=m===t,n=S(t);e?(j((null===n||void 0===n?void 0:n.parentPath)||null),u((function(t){var e=t.slice(0,((null===n||void 0===n?void 0:n.level)||0)+1);return 1===e.length&&(e=[]),e}))):(j(t),u((function(e){var c=e.slice(0,((null===n||void 0===n?void 0:n.level)||0)+1);return-1===c.indexOf(t)&&c.push(t),c})))}(n);break;case 1:a("/picture?path=".concat(n))}}})})},y=function(){var t=Object(u.f)();return Object(c.jsx)(S,{redirect:t.push,children:N})},E=function(){return new URLSearchParams(Object(u.g)().search)},C=(n(43),n(17));n(44),n(45);function k(){var t=Object(j.a)(["\n    ","\n"]);return k=function(){return t},t}var L=b.a.div.attrs((function(t){var e=t.className;return{className:O()("Grid",e)}}))(k(),(function(t){return g([t.width&&"width: ".concat(t.width,";"),t.height&&"height: ".concat(t.height,";"),t.gap&&"--gap: ".concat(t.gap,";"),t.columns&&"--columns: ".concat(t.columns,";"),t.columnsWidth&&"--columns-width: ".concat(t.columnsWidth,";"),t.columnsTemplate&&"--columns-template: ".concat(t.columnsTemplate,";"),t.rows&&"--rows: ".concat(t.rows,";"),t.rowsHeight&&"--rows-height: ".concat(t.rowsHeight,";"),t.rowsMinHeight&&"--rows-min-height: ".concat(t.rowsMinHeight,";"),t.rowsMaxHeight&&"--rows-max-height: ".concat(t.rowsMaxHeight,";"),t.rowsAuto&&"--rows-auto: ".concat(t.rowsAuto,";"),t.rowsTemplate&&"--rows-template: ".concat(t.rowsTemplate,";"),t.columnGap&&"--column-gap: ".concat(t.columnGap,";"),t.rowGap&&"--row-gap: ".concat(t.rowGap,";")],"\n")}));function G(){var t=Object(j.a)(["\n    ","\n"]);return G=function(){return t},t}var I=b.a.div.attrs((function(t){var e=t.className;return{className:O()("cell",e)}}))(G(),(function(t){return g([t.columnPosition&&"--column-position: ".concat(t.columnPosition," !important;"),t.columnSpan&&"--column-span: ".concat(t.columnSpan," !important;"),t.columnStart&&"--column-start: ".concat(t.columnStart," !important;"),t.columnEnd&&"--column-end: ".concat(t.columnEnd," !important;"),t.rowPosition&&"--row-position: ".concat(t.rowPosition," !important;"),t.rowSpan&&"--row-span: ".concat(t.rowSpan," !important;"),t.rowStart&&"--row-start: ".concat(t.rowStart," !important;"),t.rowEnd&&"--row-end: ".concat(t.rowEnd," !important;")],"\n")})),F=function(t){var e=t.children,n=t.className,r=Object(C.a)(t,["children","className"]);return Object(c.jsx)(L,Object(d.a)(Object(d.a)({},r),{},{columns:3,gap:"1rem",rowsHeight:"16rem",className:O()("ThumbnailGrid",n),children:e.map((function(t,e){return Object(c.jsx)(I,{children:t},e)}))}))},H=(n(46),n(28)),M=function(t){var e=t.className,n=t.selected,r=void 0!==n&&n,a=Object(C.a)(t,["className","selected"]);return Object(c.jsx)(H.LazyLoadImage,Object(d.a)(Object(d.a)({},a),{},{effect:"blur",className:"Image__img",wrapperClassName:O()("Image",r&&"Image--selected",e)}))},R=function(t){var e=t.primaryPicture,n=t.pictures,r=t.onImageClick;return Object(c.jsxs)(L,{className:"Gallery",rows:2,columns:1,children:[Object(c.jsx)(I,{className:"primaryPictureWrapper",children:Object(c.jsx)(M,{src:e.url,alt:e.label})}),Object(c.jsx)(I,{children:Object(c.jsx)(F,{height:"100%",children:(n||[]).map((function(t){var n=t.label,a=t.url;return Object(c.jsx)(M,{src:a,alt:n,"data-label":n,selected:e.url===a,onClick:r,className:"thumbnail"},n)}))})})]})};function A(){var t=Object(j.a)(["\n    width: 100%;\n    margin: 0 auto;\n    padding: 1rem;\n\n    @media(min-width: 1200px) {\n        width: 1200px;\n    }\n"]);return A=function(){return t},t}var W=b.a.div(A()),B=function(t){var e=t.label,n=t.parentPath,r=t.children,a=t.redirect,o=void 0===a?function(){}:a,i=Object(s.b)(n,f),l=i.error,u=i.data,d=null===u||void 0===u?void 0:u.children.find((function(t){return t.label===e})),h=null===u||void 0===u?void 0:u.children.filter((function(t){return 1===t.type}));return l?Object(c.jsx)("div",{children:"Error occurred!"}):u?1!==(null===d||void 0===d?void 0:d.type)?Object(c.jsx)("div",{children:"Path provided is not an image"}):Object(c.jsx)(c.Fragment,{children:r({primaryPicture:d,pictures:h||[],onImageClick:function(t){var e=t.currentTarget.getAttribute("data-label");e&&o("/picture?path=".concat(T(e,n)))}})}):Object(c.jsx)("div",{children:"Loading..."})},J=function(){var t=E(),e=Object(u.f)(),n=function(t){if(!t)return{label:null,parentPath:null};var e=t.split("/");return{label:(e.length>1?e.pop():e[0])||null,parentPath:e.join("/")}}(t.get("path")),a=n.label,o=n.parentPath;return Object(r.useEffect)((function(){a&&window.scrollTo(0,0)}),[a]),null===o?Object(c.jsx)("div",{children:"Path was not provided"}):Object(c.jsx)(W,{children:Object(c.jsx)(B,{label:a,parentPath:o,redirect:e.push,children:R})})},U={revalidateOnFocus:!1},_=function(){return Object(c.jsx)(s.a,{value:U,children:Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{path:"/picture",children:Object(c.jsx)(J,{})}),Object(c.jsx)(u.a,{path:"/home",children:Object(c.jsx)(y,{})})]})})})})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),a(t),o(t)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(_,{})}),document.getElementById("root")),z()}},[[47,1,2]]]);
//# sourceMappingURL=main.99170ebe.chunk.js.map