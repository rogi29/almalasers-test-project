(this["webpackJsonpalmalasers-test-project"]=this["webpackJsonpalmalasers-test-project"]||[]).push([[0],{32:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},40:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){"use strict";n.r(e);var c=n(1),r=(n(32),n(0)),a=n.n(r),o=n(21),i=n.n(o),l=n(13),u=n(2),s=n(11),d=n(7),h=(n(36),{method:"GET",headers:{"X-TOKEN":"2d4e69f4823176197ccf41caa5ee6456"}}),j="root",p=function(t){return new URL("explorePictures?path=".concat(t),"http://18.203.83.17/public/")},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(p(t).toString(),Object(d.a)(Object(d.a)({},h),e)).then((function(t){return t.json()})).then((function(t){return t.data}))},m=n(9),b=(n(37),n(10)),v=n(8),O=n.n(v),x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.filter((function(t){return!!t})).join(e)};function w(){var t=Object(m.a)(["\n    ","\n"]);return w=function(){return t},t}var g=b.a.button.attrs((function(t){var e=t.className,n=t.isRoot,c=void 0!==n&&n,r=t.selected,a=void 0!==r&&r,o=t.expandable,i=void 0===o||o;return{className:O()("TreeNode",c&&"TreeNode--root",a&&"TreeNode--selected",i&&"TreeNode--expandable",e)}}))(w(),(function(t){var e=t.level,n=t.index;return x(["number"===typeof e?"--level: ".concat(e," !important;"):void 0,"number"===typeof n?"--index: ".concat(n," !important;"):void 0],"\n")})),N=function(t){var e=t.nodeList,n=t.selectedPaths,r=t.handleNodeClick,a=-1,o=0;return Object(c.jsxs)("div",{className:"Tree",children:[Object(c.jsx)(g,{isRoot:!0,selected:n.indexOf(j)>-1,children:"R",onClick:function(){r({path:j,parentPath:null,level:0,node:{label:j,type:0}})}}),e.map((function(t){var e=t.path,i=t.node,l=t.level,u=t.parentPath;return a++,l>o&&(a=0),o=l,Object(c.jsx)(g,{level:l,index:a,expandable:0===i.type,selected:n.indexOf(e)>-1,onClick:function(){r({path:e,parentPath:u,node:i,level:l})}},e)}))]})},P=n(18),C=function(t,e){return"".concat(e,"/").concat(t)},S=function(t){var e=t.children,n=t.handleClick,a=void 0===n?function(){}:n,o=Object(r.useState)([]),i=Object(P.a)(o,2),l=i[0],u=i[1],d=Object(r.useState)(null),h=Object(P.a)(d,2),p=h[0],m=h[1],b=Object(r.useState)([]),v=Object(P.a)(b,2),O=v[0],x=v[1],w=Object(s.b)(p,f),g=w.error,N=w.data,S=function(t){return O.find((function(e){return e.path===t}))};return Object(r.useEffect)((function(){g&&alert(function(t){return"An error occurred while trying to retrieve information about ".concat(t)}(p||"a folder"))}),[g]),Object(r.useEffect)((function(){p||(m(null),u([]),x([]))}),[p]),Object(r.useEffect)((function(){if(N){var t=p||j,e=S(t),n="number"===typeof(null===e||void 0===e?void 0:e.level)?e.level+1:0;x((function(e){return e=e.filter((function(t){return t.level<n})),N.children.forEach((function(c){e.push({node:c,level:n,parentPath:p,path:C(c.label,t)})})),e}))}}),[N]),Object(c.jsx)(c.Fragment,{children:e({nodeList:O,selectedPaths:l,handleNodeClick:function(t){var e=t.node,n=t.path;switch(e.type){case 0:!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=p===t,n=S(t);e?(m((null===n||void 0===n?void 0:n.parentPath)||null),u((function(t){var e=t.slice(0,((null===n||void 0===n?void 0:n.level)||0)+1);return 1===e.length&&(e=[]),e}))):(m(t),u((function(e){var c=e.slice(0,((null===n||void 0===n?void 0:n.level)||0)+1);return-1===c.indexOf(t)&&c.push(t),c})))}(n);break;case 1:a(n)}}})})},T=(n(40),n(22)),k=function(t){var e=t.children;return Object(c.jsx)(T.b,{defaultScale:1,defaultPositionX:0,defaultPositionY:0,options:{minScale:.6},zoomIn:{step:10},zoomOut:{step:10},children:function(t){var n=t.zoomIn,r=t.zoomOut,a=t.resetTransform;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"TransformTree__tools",children:[Object(c.jsx)("button",{onClick:n,children:"+"}),Object(c.jsx)("button",{onClick:r,children:"-"}),Object(c.jsx)("button",{onClick:a,children:"x"})]}),Object(c.jsx)(T.a,{children:e})]})}})},y=function(){var t=Object(u.g)();return Object(c.jsx)(S,{handleClick:function(e){return t.push("/picture?path=".concat(e))},children:function(t){return Object(c.jsx)(k,{children:Object(c.jsx)(N,Object(d.a)({},t))})}})},E=function(){return new URLSearchParams(Object(u.h)().search)},I=(n(45),n(17));n(46),n(47);function F(){var t=Object(m.a)(["\n    ","\n"]);return F=function(){return t},t}var G=b.a.div.attrs((function(t){var e=t.className;return{className:O()("Grid",e)}}))(F(),(function(t){return x([t.width&&"width: ".concat(t.width,";"),t.height&&"height: ".concat(t.height,";"),t.gap&&"--gap: ".concat(t.gap,";"),t.columns&&"--columns: ".concat(t.columns,";"),t.columnsWidth&&"--columns-width: ".concat(t.columnsWidth,";"),t.columnsTemplate&&"--columns-template: ".concat(t.columnsTemplate,";"),t.rows&&"--rows: ".concat(t.rows,";"),t.rowsHeight&&"--rows-height: ".concat(t.rowsHeight,";"),t.rowsMinHeight&&"--rows-min-height: ".concat(t.rowsMinHeight,";"),t.rowsMaxHeight&&"--rows-max-height: ".concat(t.rowsMaxHeight,";"),t.rowsAuto&&"--rows-auto: ".concat(t.rowsAuto,";"),t.rowsTemplate&&"--rows-template: ".concat(t.rowsTemplate,";"),t.columnGap&&"--column-gap: ".concat(t.columnGap,";"),t.rowGap&&"--row-gap: ".concat(t.rowGap,";")],"\n")}));function L(){var t=Object(m.a)(["\n    ","\n"]);return L=function(){return t},t}var H=b.a.div.attrs((function(t){var e=t.className;return{className:O()("cell",e)}}))(L(),(function(t){return x([t.columnPosition&&"--column-position: ".concat(t.columnPosition," !important;"),t.columnSpan&&"--column-span: ".concat(t.columnSpan," !important;"),t.columnStart&&"--column-start: ".concat(t.columnStart," !important;"),t.columnEnd&&"--column-end: ".concat(t.columnEnd," !important;"),t.rowPosition&&"--row-position: ".concat(t.rowPosition," !important;"),t.rowSpan&&"--row-span: ".concat(t.rowSpan," !important;"),t.rowStart&&"--row-start: ".concat(t.rowStart," !important;"),t.rowEnd&&"--row-end: ".concat(t.rowEnd," !important;")],"\n")})),_=function(t){var e=t.children,n=t.className,r=Object(I.a)(t,["children","className"]);return Object(c.jsx)(G,Object(d.a)(Object(d.a)({},r),{},{columns:15,gap:"0.5rem",className:O()("ThumbnailGrid",n),children:e.map((function(t,e){return Object(c.jsx)(H,{children:t},e)}))}))},z=(n(48),n(29)),A=function(t){var e=t.className,n=t.selected,r=void 0!==n&&n,a=Object(I.a)(t,["className","selected"]);return Object(c.jsx)(z.LazyLoadImage,Object(d.a)(Object(d.a)({},a),{},{effect:"blur",className:"Image__img",wrapperClassName:O()("Image",r&&"Image--selected",e)}))},M=function(t){var e=t.primaryPicture,n=t.pictures,r=t.onImageClick;return Object(c.jsxs)(G,{className:"Gallery",rows:2,columns:1,children:[Object(c.jsx)(H,{className:"primaryPictureWrapper",children:Object(c.jsx)(A,{src:e.url,alt:e.label})}),Object(c.jsx)(H,{children:Object(c.jsx)(_,{height:"100%",children:(n||[]).map((function(t){var n=t.label,a=t.url;return Object(c.jsx)(A,{src:a,alt:n,"data-label":n,selected:e.url===a,onClick:r,className:"thumbnail"},n)}))})})]})};function R(){var t=Object(m.a)(["\n    width: 100%;\n    margin: 0 auto;\n    padding: 1rem;\n\n    @media(min-width: 1200px) {\n        width: 1200px;\n    }\n"]);return R=function(){return t},t}var W=b.a.div(R()),B=(n(49),function(){return Object(c.jsx)("div",{className:"Spinner__wrapper",children:Object(c.jsx)("div",{className:"Spinner"})})}),J=function(t){var e=t.label,n=t.parentPath,r=t.redirectOnErrorComponent,a=t.children,o=t.handleClick,i=void 0===o?function(){}:o,l=Object(s.b)(n,f),u=l.error,d=l.data,h=null===d||void 0===d?void 0:d.children.find((function(t){return t.label===e})),j=null===d||void 0===d?void 0:d.children.filter((function(t){return 1===t.type}));return u||d?u||1!==(null===h||void 0===h?void 0:h.type)?Object(c.jsx)(r,{}):Object(c.jsx)(c.Fragment,{children:a({primaryPicture:h,pictures:j||[],onImageClick:function(t){var e=t.currentTarget.getAttribute("data-label");e&&i(C(e,n))}})}):Object(c.jsx)(B,{})},U=function(){var t=E(),e=Object(u.g)(),n=function(t){if(!t)return{label:null,parentPath:null};var e=t.split("/");return{label:(e.length>1?e.pop():e[0])||null,parentPath:e.join("/")}}(t.get("path")),a=n.label,o=n.parentPath;return Object(r.useEffect)((function(){a&&window.scrollTo(0,0)}),[a]),null===o?Object(c.jsx)(u.a,{to:"/home"}):Object(c.jsx)(W,{children:Object(c.jsx)(J,{label:a,parentPath:o,redirectOnErrorComponent:function(){return Object(c.jsx)(u.a,{to:"/home"})},handleClick:function(t){return e.push("picture?path=".concat(t))},children:M})})},X={revalidateOnFocus:!1},D=function(){return Object(c.jsx)(s.a,{value:X,children:Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(c.jsx)(u.a,{to:"/home"})}}),Object(c.jsx)(u.b,{exact:!0,path:"/picture",children:Object(c.jsx)(U,{})}),Object(c.jsx)(u.b,{exact:!0,path:"/home",children:Object(c.jsx)(y,{})})]})})})})},K=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),a(t),o(t)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root")),K()}},[[50,1,2]]]);
//# sourceMappingURL=main.df5bf171.chunk.js.map